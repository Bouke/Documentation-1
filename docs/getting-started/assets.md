# Assets

Many applications need to include assets such as bitmaps and [resource dictionaries](../styling/resources.md) in their executable and refer to these assets from XAML.

### Including assets <a id="including-assets"></a>

Assets can be included in an application by using the `<AvaloniaResource>` item in your project file. The MVVM Application template by default includes all files in the `Assets` directory as an `<AvaloniaResource>`:

```markup
<ItemGroup>
  <AvaloniaResource Include="Assets\**"/>
</ItemGroup>
```

You can include whatever files you want by adding additional `<AvaloniaResource>` elements.

You will notice that we're referring to _assets_ here whereas the MSBuild item is called an Avalonia _resource_. Assets are internally stored as [.NET resources](https://docs.microsoft.com/en-us/visualstudio/ide/managing-application-resources-dotnet) but because the term "resource" conflicts with [XAML resources](../styling/resources.md) we'll refer to them as "assets" throughout.

### Referencing assets <a id="referencing-assets"></a>

Assets can be referenced in XAML by specifying their relative path:

```markup
<Image Source="icon.png"/>
<Image Source="images/icon.png"/>
<Image Source="../icon.png"/>
```

Or their rooted path:

```markup
<Image Source="/Assets/icon.png"/>
```

If the asset is located in a different assembly to the XAML file then use the `avares:` URL scheme. For example if the asset is contained in an assembly called `MyAssembly.dll` then you would use:

```markup
<Image Source="avares://MyAssembly/Assets/icon.png"/>
```

Avalonia can provide converters which can load assets for bitmaps, icons and fonts out of the box. So assets Uri can be automatically converted to any of following types: [IImage](http://reference.avaloniaui.net/api/Avalonia.Media/IImage), [IBitmap](http://reference.avaloniaui.net/api/Avalonia.Media.Imaging/IBitmap), [WindowIcon](http://reference.avaloniaui.net/api/Avalonia.Controls/WindowIcon) and [FontFamily](http://reference.avaloniaui.net/api/Avalonia.Media/FontFamily)

### Referencing manifest resources <a id="referencing-manifest-resources"></a>

Assets can also be included in .NET applications by using the `<EmbeddedResource>` MSBuild item which causes the file to be included in the assembly as a [manifest resource](https://docs.microsoft.com/en-us/dotnet/api/system.reflection.assembly.getmanifestresourcenames).

You can reference manifest resources using the `resm:` URL scheme:

```markup
<Image Source="resm:MyApp.Assets.icon.png"/>
```

Or if the resource is embedded in a different assembly to the XAML file:

```markup
<Image Source="resm:MyApp.Assets.icon.png?assembly=MyAssembly"/>
```

The name of the asset is automatically generated by MSBuild from the assembly name, the file path and the filename - all separated with periods. If Avalonia is unable to find a manifest resource, check the resource name using [`Assembly.GetManifestResourceNames`](https://docs.microsoft.com/en-us/dotnet/api/system.reflection.assembly.getmanifestresourcenames).

### Loading assets from code <a id="loading-assets-from-code"></a>

Assets can be loaded from code using the `IAssetLoader` interface:

```csharp
var assets = AvaloniaLocator.Current.GetService<IAssetLoader>();
var bitmap = new Bitmap(assets.Open(new Uri(uri)));
```

The `uri` variable in the snippet can hold either any valid URI which was described above, so `avres:`, `resm:` and URI less values are supported. By default Avalonia does not support nor `file://` nor `http://` and `https://` schemes, so if you want load files from disk or over HTTP, you have to do that yourself, or use community alternatives like https://github.com/AvaloniaUtils/AsyncImageLoader.Avalonia.
